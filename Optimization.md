# 코드 최적화 항목

## 1. 중복 코드 제거

### 1.1. 정적 파일 서비스 로직 중복
- **파일:** `src/app.js`, `src/services/StaticFileService.js`
- **문제:** `app.js`의 `serveStaticFile` 함수와 `StaticFileService.js`의 `serveFile` 메서드가 유사한 기능을 중복 구현하고 있습니다.
- **해결방안:** `app.js`에서 직접 정적 파일을 제공하는 로직을 제거하고, `StaticFileController`만 사용하도록 리팩토링해야 합니다.

### 1.2. MIME 타입 중복 정의
- **파일:** `src/app.js`, `src/config/mime.js`
- **문제:** `app.js`에 하드코딩된 MIME 타입과 `mime.js`에 정의된 타입이 중복됩니다.
- **해결방안:** `app.js`에서 MIME 타입 매핑을 제거하고 `mime.js`의 설정만 사용하도록 수정해야 합니다.

## 2. 코드 구조 개선

### 2.1. `fs` 모듈 사용 일관성 부족
- **파일:** `src/models/StaticFileModel.js`, `src/app.js`, `src/controllers/TeamDataController.js`
- **문제:** 일부 파일에서는 `fs.promises`를 사용하고, 다른 파일에서는 콜백 기반 API를 사용하여 일관성이 없습니다.
- **해결방안:** 모든 파일 연산에 `fs.promises` API를 사용하도록 통일해야 합니다.

### 2.2. 에러 핸들링 일관성 부족
- **파일:** 전반적인 코드베이스
- **문제:** 일부 코드는 try-catch를 사용하고 다른 코드는 직접 에러 처리를 하고 있습니다.
- **해결방안:** 에러 핸들링 패턴을 일관되게 적용하고, 가능한 경우 전역 에러 핸들러를 구현해야 합니다.

### 2.3. 설정 관리 개선
- **파일:** `src/config/`, `src/app.js`
- **문제:** 일부 설정값이 하드코딩되어 있고 일부는 설정 파일로 분리되어 있습니다.
- **해결방안:** 모든 설정값을 설정 파일로 분리하고, 환경변수를 사용하여 실행 환경별 설정을 지원해야 합니다.

## 3. 파일 분리 및 모듈화

### 3.1. `app.js` 파일 분리
- **파일:** `src/app.js`
- **문제:** `app.js` 파일이 너무 많은 책임을 가지고 있어 유지보수가 어렵습니다.
- **해결방안:** 다음과 같이 파일을 분리해야 합니다:
  - `server.js`: HTTP 서버 생성 및 시작 담당
  - `routes.js`: 라우팅 로직 분리
  - `middlewares.js`: 공통 미들웨어 분리

### 3.2. API 핸들러 분리
- **파일:** `src/app.js`
- **문제:** API 핸들링 로직이 `handleApiRequest` 함수에 모두 포함되어 있어 확장성이 떨어집니다.
- **해결방안:** 개별 API 엔드포인트에 대한 핸들러를 별도 파일로 분리하고, 라우터를 통해 연결해야 합니다.

## 4. 코드 품질 개선

### 4.1. 비동기 코드 처리 개선
- **파일:** `src/app.js`, `src/services/StaticFileService.js`
- **문제:** 콜백 기반 비동기 코드가 많아 가독성이 떨어지고 에러 처리가 복잡합니다.
- **해결방안:** `async/await` 패턴을 일관되게 사용하여 비동기 코드의 가독성을 높여야 합니다.

### 4.2. 주석 및 문서화 일관성
- **파일:** 전체 코드베이스
- **문제:** 일부 파일(`TeamMember.js`)은 상세한 JSDoc 문서화가 되어 있지만, 다른 파일은 문서화가 부족합니다.
- **해결방안:** 모든 파일에 일관된 JSDoc 주석 스타일을 적용해야 합니다.

### 4.3. 엄격한 타입 검사 도입
- **파일:** 전체 코드베이스
- **문제:** 타입 검사가 불충분하여 런타임 오류 발생 가능성이 있습니다.
- **해결방안:** TypeScript 도입 또는 JSDoc 타입 주석을 통한 타입 안전성 강화가 필요합니다.

## 5. 성능 최적화

### 5.1. 캐싱 전략 개선
- **파일:** `src/services/StaticFileService.js`
- **문제:** 정적 파일에 대한 캐싱 설정이 일부 MIME 타입에만 적용되고 있습니다.
- **해결방안:** 모든 파일 유형에 대한 적절한 캐싱 전략을 구현하고, 캐시 무효화 메커니즘을 추가해야 합니다.

### 5.2. 불필요한 파일 연산 최소화
- **파일:** `src/models/StaticFileModel.js`
- **문제:** `getFilePath` 메서드에서 매번 파일 존재 여부를 확인하기 위해 동기 파일 시스템 API를 사용합니다.
- **해결방안:** 비동기 API 사용 및 경로 캐싱 메커니즘 도입이 필요합니다.

## 6. 디렉토리 구조 개선

### 6.1. 디렉토리 구조 일관성
- **문제:** `src`, `components`, `styles` 등 최상위 디렉토리가 분산되어 있습니다.
- **해결방안:** 모든 소스 파일을 `src` 디렉토리 아래로 통일하고, 프론트엔드 코드와 백엔드 코드를 명확히 분리해야 합니다.

### 6.2. 데이터 관리 구조 개선
- **파일:** `src/controllers/TeamDataController.js`, `src/services/save-team-decision-json.js`
- **문제:** 데이터 저장 경로가 두 파일에서 다르게 정의되어 있습니다.
- **해결방안:** 데이터 저장 경로를 설정 파일로 분리하고 일관되게 사용해야 합니다.

## 7. 보안 강화

### 7.1. 입력 데이터 검증
- **파일:** `src/app.js`의 `handleApiRequest` 함수
- **문제:** API 요청 데이터에 대한 검증이 부족합니다.
- **해결방안:** 모든 API 입력에 대한 유효성 검사 로직을 추가해야 합니다.

### 7.2. 경로 탐색 취약점
- **파일:** `src/models/StaticFileModel.js`의 `getFilePath` 메서드
- **문제:** 잘못된 URL을 통한 서버 파일 시스템 접근 가능성이 있습니다.
- **해결방안:** 경로 정규화 및 접근 제한 로직을 추가해야 합니다. 